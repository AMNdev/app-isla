
<div class=" m-5 ">

  <table mat-table [dataSource]="playas" class="mat-elevation-z8">

    <!-- Id Column -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>#</th>
      <td mat-cell *matCellDef="let element"> {{element.id}} </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="nombre">
      <th mat-header-cell *matHeaderCellDef>Nombre</th>
      <td mat-cell *matCellDef="let element"> {{element.nombre}} </td>
    </ng-container>

    <!-- Address Column -->
    <ng-container matColumnDef="descripcion">
      <th mat-header-cell *matHeaderCellDef>Dirección</th>
      <td mat-cell *matCellDef="let element"> {{element.descripcion}} </td>
    </ng-container>

    <!-- GPS Column -->
    <ng-container matColumnDef="gMaps">
      <th mat-header-cell *matHeaderCellDef>Enlace</th>
      <td mat-cell *matCellDef="let element">
        <a href="{{element.gMaps}}" target="_blank">
          <mat-icon>open_in_new</mat-icon>
        </a>
      </td>
    </ng-container>

    <!-- Image Column -->
    <ng-container matColumnDef="imagen">
      <th mat-header-cell *matHeaderCellDef>Imagen</th>
      <td mat-cell *matCellDef="let element">
        <a href="{{element.imagen}}" target="_blank">
          <mat-icon>open_in_new</mat-icon>
        </a>
      </td>
    </ng-container>

    <!-- Actions Column -->
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Actions </th>
      <td mat-cell *matCellDef="let element">
        <!-- TODO: añadir feature editar pasando datos al formulario -->
        <!-- <button mat-button color="primary" (click)="editDirection(this.element)">Edit</button> | -->
        <button mat-button color="warn" (click)="deletePlaya(this.element)">Delete</button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

  </table>
</div>

<div class="px-5 mb-5">

  <form [formGroup]="newPlaya" (ngSubmit)="f.form.valid && setPlaya(f)" #f="ngForm" class=" w-full">

    <mat-form-field>
      <mat-label>Identificador único</mat-label>
      <input required matInput formControlName="idNuevo">

      <mat-error *ngIf="newPlaya.controls.idNuevo.hasError('pattern') ">
        <strong>Sin espacios</strong> ni cosas raras!
      </mat-error>

      <mat-error *ngIf="!newPlaya.controls.idNuevo.hasError('minLength') ">
        Mínimo <strong>4 caracteres!</strong>
      </mat-error>

    </mat-form-field>

    <mat-form-field>
      <mat-label>Nombre</mat-label>
      <input required matInput formControlName="nombreNuevo">
    </mat-form-field>

    <mat-form-field>
      <mat-label>Enlace Google Maps</mat-label>
      <input required matInput formControlName="gMapsNuevo">
    </mat-form-field>

    <mat-form-field>
      <mat-label>Enlace de Imagen</mat-label>
      <input required matInput formControlName="imagenNuevo">
    </mat-form-field>

    <br>

    <mat-form-field class="w-5">
      <mat-label>Descripción</mat-label>
      <textarea cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="5" required matInput
        formControlName="descripcionNuevo"></textarea>
    </mat-form-field>

    <br>
    <button mat-stroked-button type="submit" color="primary" [disabled]="!newPlaya.valid">
      <mat-icon>add</mat-icon>
    </button>
    <button type="reset" mat-stroked-button color="accent">
      <mat-icon>restart_alt</mat-icon>
    </button>

  </form>

</div>
